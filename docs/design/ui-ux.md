# UI/UX 设计规范

## 整体布局

### 布局结构

```
┌─────────────────────────────────────────┐
│  ┌──────────┐  ┌──────────────────────┐ │
│  │          │  │                      │ │
│  │ Sidebar  │  │      Page           │ │
│  │          │  │      (100vh)         │ │
│  │(可收缩)   │  │                      │ │
│  │(100vh)   │  │                      │ │
│  │          │  │                      │ │
│  └──────────┘  └──────────────────────┘ │
└─────────────────────────────────────────┘
```

### 布局规则

- **Sidebar**: 
  - 左侧固定，可收缩/展开
  - 高度 100vh，独立管理滚动
  - 收缩时只显示图标，展开时显示图标+文字

- **Page**:
  - 右侧内容区域，高度 100vh
  - 独立管理滚动
  - 自适应剩余宽度

## Sidebar 菜单结构

### 主菜单（一级菜单）

#### 1. Agents
- **路由**: `/agents` 或 `/`
- **图标**: 机器人/Agent 图标
- **描述**: Agent 对话主页面
- **功能**: 
  - 类似 ChatGPT/Gemini 的对话界面
  - **所有对话都基于 ReAct Agent 模式**，自动支持工具调用
  - 会话列表显示在 Sidebar 中（类似 ChatGPT 左侧会话列表）
  - 无需模式切换，所有对话都具备 Agent 能力

**页面内部功能：**
- **统一的 ReAct Agent 模式**: 所有对话都支持自动工具调用
- **智能工具选择**: AI 自动判断是否需要调用工具，以及调用哪些工具
- **工具调用可视化**: 可选的工具调用过程展示（可折叠）

#### 2. 设置
- **路由**: `/settings`
- **图标**: 设置/齿轮图标
- **描述**: 系统配置管理
- **支持二级菜单展开**（在 Sidebar 中显示子菜单）

**二级菜单（在 Sidebar 中展开显示）：**

##### 2.1 基础设置
- **路由**: `/settings/general`
- **图标**: 通用设置图标
- **描述**: 通用系统设置
- **功能**: 主题、语言、通知等基础配置

##### 2.2 MCP 设置
- **路由**: `/settings/mcp`
- **图标**: 插件/连接图标
- **描述**: MCP Server 配置管理
- **功能**: 添加/删除 MCP Server、查看可用工具、测试连接

##### 2.3 Skills 设置
- **路由**: `/settings/skills`
- **图标**: 工具/技能图标
- **描述**: 自定义技能扩展
- **功能**: 管理 Skills、配置权限、启用/禁用

##### 2.4 Models 设置
- **路由**: `/settings/models`
- **图标**: 模型/配置图标
- **描述**: 多模型配置管理
- **功能**: 添加/编辑模型、配置参数、设置默认模型

### 页面结构说明

#### Agents 页面（对话页面）
- **主界面**: 类似 ChatGPT/Gemini 的对话界面
  - 顶部：可选的工具调用状态指示器（显示当前是否在使用工具）
  - 中间：消息列表（用户消息和 AI 回复）
    - 用户消息：靠右显示
    - AI 回复：靠左显示，支持流式输出
    - 工具调用过程：可折叠显示（Thought、Tool Call、Observation）
  - 底部：输入框和发送按钮
- **Sidebar 会话列表**: 
  - 显示所有会话（类似 ChatGPT）
  - 新建会话按钮（通常在顶部）
  - 会话重命名、删除（右键菜单或图标）
  - 当前会话高亮显示

#### 设置页面
- 如果支持二级菜单在 Sidebar 展开：
  - 点击"设置"展开子菜单
  - 点击子菜单项进入对应设置页面
  - 设置页面内容区域显示具体配置项
- 如果不支持二级菜单：
  - 点击"设置"进入设置主页面
  - 主页面显示各个设置分类卡片
  - 点击分类进入具体设置页面（需要返回按钮）

## 页面 Header 规则

### Agents 页面
- 无返回按钮（一级页面）
- 可选的工具调用状态指示器（显示 AI 正在使用的工具）
- 可选的页面操作按钮（如：清空对话、导出、设置等）

### 设置页面
- 如果 Sidebar 支持二级菜单展开：
  - 无返回按钮（通过 Sidebar 导航）
  - 显示当前设置分类标题
  - 可选的页面操作按钮
- 如果 Sidebar 不支持二级菜单展开：
  - 二级页面需要返回按钮
  - 显示页面标题
  - 可选的页面操作按钮

## 路由层级示例

```
/agents                  (一级，无返回，Agents 主页面)
/agents/:sessionId       (可选，特定会话，无返回，通过 Sidebar 切换)

/settings                (一级，无返回，如果支持二级菜单展开)
/settings/general        (二级，如果 Sidebar 不支持展开则需返回按钮)
/settings/mcp            (二级，如果 Sidebar 不支持展开则需返回按钮)
/settings/skills         (二级，如果 Sidebar 不支持展开则需返回按钮)
/settings/models         (二级，如果 Sidebar 不支持展开则需返回按钮)
```

## 界面风格参考

### 参考 ChatGPT/Gemini 的设计特点

1. **Sidebar 会话列表**:
   - 左侧显示所有会话
   - 会话项可点击切换
   - 新建会话按钮在顶部或底部
   - 会话可重命名、删除（右键菜单或图标）

2. **对话界面**:
   - 消息气泡式布局
   - 用户消息靠右，AI 消息靠左
   - 流式输出显示
   - 消息操作（复制、重新生成等）

3. **输入区域**:
   - 底部固定输入框
   - 支持多行输入
   - 发送按钮或快捷键（Enter/Cmd+Enter）
   - 可选的工具调用提示（显示当前可用的工具数量）

4. **视觉风格**:
   - 简洁现代的设计
   - 清晰的层次结构
   - 合适的留白和间距
   - 流畅的动画过渡

## 交互规范

### Sidebar 收缩/展开
- 点击收缩按钮或侧边栏边缘触发
- 收缩时只显示图标，hover 显示工具提示
- 展开时显示完整菜单项

### 滚动行为
- Sidebar 和 Page 各自独立滚动
- 使用 `overflow-y: auto` 实现
- 保持滚动位置（如需要）

### 响应式设计
- 移动端：Sidebar 默认隐藏，通过按钮触发抽屉式显示
- 桌面端：Sidebar 默认显示，可收缩

## 设计细节

### Sidebar 二级菜单展开方式

**方案 A：支持在 Sidebar 中展开（推荐）**
- 点击"设置"菜单项，在 Sidebar 中展开显示子菜单
- 子菜单项缩进显示
- 点击子菜单项进入对应设置页面
- 再次点击"设置"可收起子菜单

**方案 B：不支持展开（备选）**
- 点击"设置"进入设置主页面
- 主页面显示各个设置分类卡片
- 点击分类卡片进入具体设置页面（需要返回按钮）

### 工具调用可视化设计

在 Agents 页面中，工具调用过程可以设计为：

- **展示方式**: 
  - 在 AI 回复中可折叠显示工具调用过程
  - 显示 Thought（思考）、Tool Call（工具调用）、Observation（结果）
  - 默认折叠，用户可展开查看详情

- **状态指示**:
  - 当 AI 正在调用工具时，显示加载状态
  - 显示当前正在使用的工具名称
  - 工具调用完成后，显示结果摘要

- **交互设计**:
  - 工具调用过程可折叠/展开
  - 可以查看工具调用的详细参数和结果
  - 支持复制工具调用信息

## 待补充

- 具体的视觉设计规范
- 颜色方案（参考 ChatGPT/Gemini 的配色）
- 字体规范
- 间距规范
- 动画效果
- DaisyUI 组件选择和使用规范
